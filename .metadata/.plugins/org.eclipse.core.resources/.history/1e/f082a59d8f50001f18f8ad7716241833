package com.aurionpro.behavioural.observer.test;

import com.aurionpro.behavioural.observer.model.*;

import java.util.Scanner;

public class AccountTest {

    public static void main(String[] args) {

        Scanner scanner = new Scanner(System.in);

        System.out.println("Enter the number of accounts: ");
        int size = scanner.nextInt();

        Account[] accountList = new Account[size];

        for (int i = 0; i < size; i++) {

            System.out.println("Enter your Account Number: ");
            long accountNumber = scanner.nextLong();

            System.out.println("Enter your name: ");
            String name = scanner.next();

            System.out.println("Enter your balance: ");
            double balance = scanner.nextDouble();

            Account account = new Account(accountNumber, name, balance);

            
            account.addNotifier(new SMSNotifier());
            account.addNotifier(new AppNotifier());
            account.addNotifier(new EmailNotifier());

            accountList[i] = account;
        }

        for (Account account : accountList) {
            account.display();
            
            account.credit(1000);
            account.debit(500);
        }

        scanner.close();
    }
}
